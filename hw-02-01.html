<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Himanshu Nimbarte">

<title>Transforming like a data transformer</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="hw-02-01_files/libs/clipboard/clipboard.min.js"></script>
<script src="hw-02-01_files/libs/quarto-html/quarto.js"></script>
<script src="hw-02-01_files/libs/quarto-html/popper.min.js"></script>
<script src="hw-02-01_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="hw-02-01_files/libs/quarto-html/anchor.min.js"></script>
<link href="hw-02-01_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="hw-02-01_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="hw-02-01_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="hw-02-01_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="hw-02-01_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Transforming like a data transformer</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Himanshu Nimbarte </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="setting-up" class="level1">
<h1>Setting Up</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sets the number of significant figures to two - e.g., 0.01</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Required package for quick package downloading and loading </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(pacman))  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: pacman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Downloads and load required packages</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(dlookr, <span class="co"># Exploratory data analysis</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>               forecast, <span class="co"># Needed for Box-Cox transformations</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>               formattable, <span class="co"># HTML tables from R outputs</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>               here, <span class="co"># Standardizes paths to data</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>               kableExtra, <span class="co"># Alternative to formattable</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>               knitr, <span class="co"># Needed to write HTML reports</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>               missRanger, <span class="co"># To generate NAs</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>               tidyverse) <span class="co"># Powerful data wrangling package suite</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>tornados <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-05-16/tornados.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 68693 Columns: 27
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr   (2): tz, st
dbl  (21): om, yr, mo, dy, stf, mag, inj, fat, loss, slat, slon, elat, elon,...
lgl   (1): fc
dttm  (1): datetime_utc
date  (1): date
time  (1): time

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>tornados <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formattable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
om
</th>
<th style="text-align:right;">
yr
</th>
<th style="text-align:right;">
mo
</th>
<th style="text-align:right;">
dy
</th>
<th style="text-align:right;">
date
</th>
<th style="text-align:right;">
time
</th>
<th style="text-align:right;">
tz
</th>
<th style="text-align:right;">
datetime_utc
</th>
<th style="text-align:right;">
st
</th>
<th style="text-align:right;">
stf
</th>
<th style="text-align:right;">
mag
</th>
<th style="text-align:right;">
inj
</th>
<th style="text-align:right;">
fat
</th>
<th style="text-align:right;">
loss
</th>
<th style="text-align:right;">
slat
</th>
<th style="text-align:right;">
slon
</th>
<th style="text-align:right;">
elat
</th>
<th style="text-align:right;">
elon
</th>
<th style="text-align:right;">
len
</th>
<th style="text-align:right;">
wid
</th>
<th style="text-align:right;">
ns
</th>
<th style="text-align:right;">
sn
</th>
<th style="text-align:right;">
f1
</th>
<th style="text-align:right;">
f2
</th>
<th style="text-align:right;">
f3
</th>
<th style="text-align:right;">
f4
</th>
<th style="text-align:right;">
fc
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
192
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1950-10-01
</td>
<td style="text-align:right;">
21:00:00
</td>
<td style="text-align:right;">
America/Chicago
</td>
<td style="text-align:right;">
1950-10-02 03:00:00
</td>
<td style="text-align:right;">
OK
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5e+04
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
-103
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
-102
</td>
<td style="text-align:right;">
15.8
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:right;">
193
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1950-10-09
</td>
<td style="text-align:right;">
02:15:00
</td>
<td style="text-align:right;">
America/Chicago
</td>
<td style="text-align:right;">
1950-10-09 08:15:00
</td>
<td style="text-align:right;">
NC
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5e+05
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
-79
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
880
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:right;">
195
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
1950-11-20
</td>
<td style="text-align:right;">
02:20:00
</td>
<td style="text-align:right;">
America/Chicago
</td>
<td style="text-align:right;">
1950-11-20 08:20:00
</td>
<td style="text-align:right;">
KY
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5e+05
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
-87
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
177
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:right;">
196
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
1950-11-20
</td>
<td style="text-align:right;">
04:00:00
</td>
<td style="text-align:right;">
America/Chicago
</td>
<td style="text-align:right;">
1950-11-20 10:00:00
</td>
<td style="text-align:right;">
KY
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5e+05
</td>
<td style="text-align:right;">
38
</td>
<td style="text-align:right;">
-84
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.1
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
209
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:right;">
197
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
1950-11-20
</td>
<td style="text-align:right;">
07:30:00
</td>
<td style="text-align:right;">
America/Chicago
</td>
<td style="text-align:right;">
1950-11-20 13:30:00
</td>
<td style="text-align:right;">
MS
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5e+04
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
-89
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2.0
</td>
<td style="text-align:right;">
37
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
101
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
FALSE
</td>
</tr>
<tr>
<td style="text-align:right;">
194
</td>
<td style="text-align:right;">
1950
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1950-11-04
</td>
<td style="text-align:right;">
17:00:00
</td>
<td style="text-align:right;">
America/Chicago
</td>
<td style="text-align:right;">
1950-11-04 23:00:00
</td>
<td style="text-align:right;">
PA
</td>
<td style="text-align:right;">
42
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5e+05
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
-76
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
-76
</td>
<td style="text-align:right;">
15.9
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
71
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
FALSE
</td>
</tr>
</tbody>

</table>
</div>
</div>
<section id="describing-properties-of-our-datarefined" class="level2">
<h2 class="anchored" data-anchor-id="describing-properties-of-our-datarefined">Describing Properties of our Data(Refined)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>tornados <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(inj,fat,len,wid) <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe</span>() <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(described_variables, skewness) <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formattable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
described_variables
</th>
<th style="text-align:right;">
skewness
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
inj
</td>
<td style="text-align:right;">
45.5
</td>
</tr>
<tr>
<td style="text-align:right;">
fat
</td>
<td style="text-align:right;">
50.4
</td>
</tr>
<tr>
<td style="text-align:right;">
len
</td>
<td style="text-align:right;">
7.4
</td>
</tr>
<tr>
<td style="text-align:right;">
wid
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
</tbody>

</table>
</div>
</div>
</section>
<section id="testing-normality" class="level2">
<h2 class="anchored" data-anchor-id="testing-normality">Testing Normality</h2>
<ul>
<li><p>Q-Q Plots :-</p>
<p>A Q-Q (quantile-quantile) plot is a graphical tool used in statistics to assess whether a dataset follows a particular theoretical distribution, such as the normal distribution. It is a visual comparison of the quantiles of the observed data against the quantiles of the expected theoretical distribution.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>tornados <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_normality</span>(inj, fat, len, wid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-4-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure shows Normality Diagnosis Plot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tornados <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mo) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(inj,fat) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_normality</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Adding missing grouping variables: `mo`</code></pre>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-8.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-9.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-10.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-11.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-12.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-13.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-14.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-15.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-16.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-17.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-18.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-19.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-20.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-21.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-22.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-23.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-24.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-25.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-26.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-27.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-28.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-29.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-30.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-31.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-32.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-33.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-34.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-35.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-5-36.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure shows Normality Diagnosis Plot for Every Month</p>
</section>
<section id="transforming-data" class="level2">
<h2 class="anchored" data-anchor-id="transforming-data">Transforming Data</h2>
<p>To interpret Data we will need to transform our data<br>
For doing this we will use values which are greater than zero</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>durMod <span class="ot">&lt;-</span> tornados <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fat <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Square-root, cube-root, and logarithmic transformations are commonly used mathematical techniques in data analysis and statistics to modify the scale or shape of data distributions. These transformations are applied to achieve specific goals, such as reducing skewness, stabilizing variance, or linearizing relationships between variables.</p>
</section>
<section id="square-root-transformation" class="level2">
<h2 class="anchored" data-anchor-id="square-root-transformation">Square-root Transformation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sqrtDur <span class="ot">&lt;-</span> <span class="fu">transform</span>(durMod<span class="sc">$</span>fat, <span class="at">method =</span> <span class="st">"sqrt"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sqrtDur)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with sqrt

* Information of Transformation (before vs after)
         Original Transformation
n         1573.00        1.6e+03
na           0.00        0.0e+00
mean         3.90        1.6e+00
sd           8.93        1.1e+00
se_mean      0.23        2.8e-02
IQR          2.00        7.3e-01
skewness     8.50        3.6e+00
kurtosis   102.92        1.8e+01
p00          1.00        1.0e+00
p01          1.00        1.0e+00
p05          1.00        1.0e+00
p10          1.00        1.0e+00
p20          1.00        1.0e+00
p25          1.00        1.0e+00
p30          1.00        1.0e+00
p40          1.00        1.0e+00
p50          1.00        1.0e+00
p60          2.00        1.4e+00
p70          3.00        1.7e+00
p75          3.00        1.7e+00
p80          4.00        2.0e+00
p90          7.00        2.6e+00
p95         16.00        4.0e+00
p99         36.56        6.0e+00
p100       158.00        1.3e+01</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sqrtDur <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure Shows SQRT Transformation and makes the data more readable and easy to process</p>
<section id="logarithmic-1-transformation" class="level4">
<h4 class="anchored" data-anchor-id="logarithmic-1-transformation">Logarithmic (+1) Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>Log1Ins <span class="ot">&lt;-</span> <span class="fu">transform</span>(durMod<span class="sc">$</span>fat, <span class="at">method =</span> <span class="st">"log+1"</span>) </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Log1Ins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with log+1

* Information of Transformation (before vs after)
         Original Transformation
n         1573.00        1.6e+03
na           0.00        0.0e+00
mean         3.90        1.2e+00
sd           8.93        7.1e-01
se_mean      0.23        1.8e-02
IQR          2.00        6.9e-01
skewness     8.50        1.9e+00
kurtosis   102.92        3.9e+00
p00          1.00        6.9e-01
p01          1.00        6.9e-01
p05          1.00        6.9e-01
p10          1.00        6.9e-01
p20          1.00        6.9e-01
p25          1.00        6.9e-01
p30          1.00        6.9e-01
p40          1.00        6.9e-01
p50          1.00        6.9e-01
p60          2.00        1.1e+00
p70          3.00        1.4e+00
p75          3.00        1.4e+00
p80          4.00        1.6e+00
p90          7.00        2.1e+00
p95         16.00        2.8e+00
p99         36.56        3.6e+00
p100       158.00        5.1e+00</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Log1Ins <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure Shows Log Transformation which makes data more readable and easy for using</p>
</section>
<section id="inverse-transformation" class="level4">
<h4 class="anchored" data-anchor-id="inverse-transformation">Inverse Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>InvIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(durMod<span class="sc">$</span>fat, <span class="at">method =</span> <span class="st">"1/x"</span>) </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(InvIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with 1/x

* Information of Transformation (before vs after)
         Original Transformation
n         1573.00        1.6e+03
na           0.00        0.0e+00
mean         3.90        6.7e-01
sd           8.93        3.7e-01
se_mean      0.23        9.2e-03
IQR          2.00        6.7e-01
skewness     8.50       -3.8e-01
kurtosis   102.92       -1.5e+00
p00          1.00        6.3e-03
p01          1.00        2.7e-02
p05          1.00        6.2e-02
p10          1.00        1.4e-01
p20          1.00        2.5e-01
p25          1.00        3.3e-01
p30          1.00        3.3e-01
p40          1.00        5.0e-01
p50          1.00        1.0e+00
p60          2.00        1.0e+00
p70          3.00        1.0e+00
p75          3.00        1.0e+00
p80          4.00        1.0e+00
p90          7.00        1.0e+00
p95         16.00        1.0e+00
p99         36.56        1.0e+00
p100       158.00        1.0e+00</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>InvIns <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure Shows Inverse Transformation</p>
</section>
</section>
<section id="squared-transformation" class="level2">
<h2 class="anchored" data-anchor-id="squared-transformation">Squared Transformation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>SqrdIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(durMod<span class="sc">$</span>fat, <span class="at">method =</span> <span class="st">"x^2"</span>) </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(SqrdIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with x^2

* Information of Transformation (before vs after)
         Original Transformation
n         1573.00           1573
na           0.00              0
mean         3.90             95
sd           8.93            875
se_mean      0.23             22
IQR          2.00              8
skewness     8.50             20
kurtosis   102.92            489
p00          1.00              1
p01          1.00              1
p05          1.00              1
p10          1.00              1
p20          1.00              1
p25          1.00              1
p30          1.00              1
p40          1.00              1
p50          1.00              1
p60          2.00              4
p70          3.00              9
p75          3.00              9
p80          4.00             16
p90          7.00             49
p95         16.00            256
p99         36.56           1337
p100       158.00          24964</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>SqrdIns <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure Shows Squared Transformation and for this data it does not help</p>
</section>
<section id="cubed-transformation" class="level2">
<h2 class="anchored" data-anchor-id="cubed-transformation">Cubed Transformation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>CubeIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(durMod<span class="sc">$</span>fat, <span class="at">method =</span> <span class="st">"x^3"</span>) </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(CubeIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with x^3

* Information of Transformation (before vs after)
         Original Transformation
n         1573.00           1573
na           0.00              0
mean         3.90           7042
sd           8.93         116807
se_mean      0.23           2945
IQR          2.00             26
skewness     8.50             27
kurtosis   102.92            859
p00          1.00              1
p01          1.00              1
p05          1.00              1
p10          1.00              1
p20          1.00              1
p25          1.00              1
p30          1.00              1
p40          1.00              1
p50          1.00              1
p60          2.00              8
p70          3.00             27
p75          3.00             27
p80          4.00             64
p90          7.00            343
p95         16.00           4096
p99         36.56          48956
p100       158.00        3944312</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>CubeIns <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure Shows Cubed Transformation, it can handle negative values</p>
</section>
<section id="box-con-transformation" class="level2">
<h2 class="anchored" data-anchor-id="box-con-transformation">Box Con Transformation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>BoxCoxIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(durMod<span class="sc">$</span>fat, <span class="at">method =</span> <span class="st">"Box-Cox"</span>) </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(BoxCoxIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with Box-Cox

* Information of Transformation (before vs after)
         Original Transformation
n         1573.00       1573.000
na           0.00          0.000
mean         3.90          0.508
sd           8.93          0.613
se_mean      0.23          0.015
IQR          2.00          0.910
skewness     8.50          0.866
kurtosis   102.92         -0.411
p00          1.00          0.000
p01          1.00          0.000
p05          1.00          0.000
p10          1.00          0.000
p20          1.00          0.000
p25          1.00          0.000
p30          1.00          0.000
p40          1.00          0.000
p50          1.00          0.000
p60          2.00          0.614
p70          3.00          0.910
p75          3.00          0.910
p80          4.00          1.095
p90          7.00          1.405
p95         16.00          1.764
p99         36.56          2.031
p100       158.00          2.349</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>BoxCoxIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(durMod<span class="sc">$</span>fat, <span class="at">method =</span> <span class="st">"Box-Cox"</span>) </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(BoxCoxIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with Box-Cox

* Information of Transformation (before vs after)
         Original Transformation
n         1573.00       1573.000
na           0.00          0.000
mean         3.90          0.508
sd           8.93          0.613
se_mean      0.23          0.015
IQR          2.00          0.910
skewness     8.50          0.866
kurtosis   102.92         -0.411
p00          1.00          0.000
p01          1.00          0.000
p05          1.00          0.000
p10          1.00          0.000
p20          1.00          0.000
p25          1.00          0.000
p30          1.00          0.000
p40          1.00          0.000
p50          1.00          0.000
p60          2.00          0.614
p70          3.00          0.910
p75          3.00          0.910
p80          4.00          1.095
p90          7.00          1.405
p95         16.00          1.764
p99         36.56          2.031
p100       158.00          2.349</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>BoxCoxIns <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="hw-02-01_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure Shows Box Con Transformation and is helpful for data to follow normal distribution</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#transformation_web_report(tornados)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>